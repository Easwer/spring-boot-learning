// package com.sai.easwer.security;

// import org.apache.catalina.Context;
// import org.apache.catalina.connector.Connector;
// import org.apache.tomcat.util.descriptor.web.SecurityCollection;
// import org.apache.tomcat.util.descriptor.web.SecurityConstraint;
// import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;
// import org.springframework.boot.web.servlet.server.ServletWebServerFactory;
// import org.springframework.context.annotation.Bean;
// import org.springframework.stereotype.Component;

// /**
//  * This class is used for URL redirection from http:8080 to https:8083.
//  * 
//  * @author Easwer AP
//  * @email easwerms@gmail.com
//  * @create date 2020-02-14 15:12:28
//  * @modify date 2020-03-10 18:07:08
//  */
// @Component
// public class UrlRedirection {

//     /**
//      * Configuration to redirect HTTP URL's in port 8080 to HTTPS in 8083.
//      * 
//      * @return ServletWebServerFactory {@link ServletWebServerFactory}
//      */
//     @Bean
//     public ServletWebServerFactory servletContainer() {
//         TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {
//             @Override
//             protected void postProcessContext(Context context) {
//                 SecurityConstraint securityConstraint = new SecurityConstraint();
//                 securityConstraint.setUserConstraint("CONFIDENTIAL");
//                 SecurityCollection collection = new SecurityCollection();
//                 collection.addPattern("/*");
//                 securityConstraint.addCollection(collection);
//                 context.addConstraint(securityConstraint);
//             }
//         };
//         tomcat.addAdditionalTomcatConnectors(redirectConnector());
//         return tomcat;
//     }

//     /**
//      * Create HTTP to HTTPS connector.
//      * 
//      * @return Connector {@link Connector}
//      */
//     private Connector redirectConnector() {
//         Connector connector = new Connector("org.apache.coyote.http11.Http11NioProtocol");
//         connector.setScheme("http");
//         connector.setPort(8080);
//         connector.setSecure(false);
//         connector.setRedirectPort(8083);
//         return connector;
//     }

// }
